@import url("https://fonts.googleapis.com/css2?family=Georama:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap");

@import "tailwindcss";

html,
body {
    width: 100dvw;
    overflow: hidden;
    height: 100dvh;
    background-color: #0a0a0a;
}

/* Live Wallpaper */
.live-wallpaper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 0;
    pointer-events: none;
}

@theme {
    --font-georama: "Georama", sans-serif;
    --font-roboto: "Roboto Mono", monospace;
    --breakpoint-3xl: 1920px;
}

@utility flex-center {
    @apply flex items-center justify-center;
}

@utility col-center {
    @apply flex flex-col items-center justify-center;
}

@utility abs-center {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
}

@layer base {
    main {
        @apply w-dvw h-dvh overflow-hidden relative;
        z-index: 1;
    }

    nav {
        @apply flex justify-between items-center bg-white/50 backdrop-blur-3xl p-2 px-5 select-none;

        div {
            @apply flex items-center max-sm:w-full max-sm:justify-center gap-5;

            &:last-child {
                @apply max-sm:hidden;
            }
        }

        ul {
            @apply flex items-center gap-5 max-sm:hidden;

            p {
                @apply text-sm cursor-pointer hover:underline transition-all;
            }
        }

        time {
            @apply text-sm font-medium text-black;
        }
    }
}

@layer components {
    .icon {
        @apply p-1 hover:bg-gray-200 rounded hover:cursor-default transition-colors duration-150;
    }

    #welcome {
        @apply text-gray-200 flex flex-col justify-center items-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 select-none max-sm:h-screen max-sm:w-full max-sm:px-10;

        .small-screen {
            @apply sm:hidden m-7 bg-red-300/20 backdrop-blur-lg p-3 rounded-md absolute top-10;

            p {
                @apply flex-1 text-[16px] text-center font-roboto text-gray-400;
            }
        }
    }

    #dock {
        @apply absolute bottom-5 left-1/2 -translate-x-1/2 z-9990 select-none max-sm:hidden;

        .dock-container {
            @apply bg-white/20 backdrop-blur-md justify-between rounded-2xl p-1.5 flex items-end gap-1.5;
        }

        .tooltip {
            @apply !py-1 !px-3 !w-fit !text-center !text-xs !rounded-md !bg-blue-200 !text-blue-900 !shadow-2xl;
        }

        .dock-icon {
            @apply size-14 3xl:size-20 cursor-pointer relative;

            img {
                @apply object-cover object-center;
            }

            .trash-badge {
                @apply absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center shadow-md;
            }
        }

        .trash-menu {
            @apply absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-xl rounded-lg shadow-xl border border-white/50 py-1 z-50 whitespace-nowrap;

            button {
                @apply px-4 py-2 text-sm text-gray-700 hover:bg-blue-500 hover:text-white transition-colors w-full text-left;

                &.disabled {
                    @apply opacity-50 cursor-not-allowed hover:bg-transparent hover:text-gray-700;
                }
            }
        }
    }

    #window-controls {
        @apply flex gap-2;

        .close {
            @apply size-3.5 rounded-full bg-[#ff6157] cursor-pointer;
        }

        .minimize {
            @apply size-3.5 rounded-full bg-[#ffc030];
        }

        .maximize {
            @apply size-3.5 rounded-full bg-[#2acb42];
        }
    }

    #window-header {
        @apply flex items-center justify-between px-4 py-3 rounded-t-lg bg-gray-50 border-b border-gray-200 select-none text-sm text-gray-400;
    }

    #safari {
        @apply w-4xl absolute top-40 left-2/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        .search {
            @apply flex items-center gap-3 w-2/3 bg-white border border-gray-300 rounded-lg px-3 py-2;

            input {
                @apply placeholder:text-gray-400;
            }
        }

        .blog {
            @apply bg-white p-10 max-w-3xl mx-auto;

            h2 {
                @apply text-xl font-bold text-pink-600 mb-10;
            }

            .blog-post {
                @apply grid grid-cols-12 space-x-5;

                img {
                    @apply size-full rounded-md object-cover;
                }

                .content {
                    @apply col-span-10 space-y-3;

                    p {
                        @apply text-xs text-gray-500;
                    }

                    h3 {
                        @apply font-semibold text-base text-gray-800;
                    }

                    a {
                        @apply text-blue-600 text-xs hover:underline flex items-center gap-3;
                    }
                }
            }
        }
    }

    #terminal {
        @apply w-xl absolute top-32 left-1/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        h2 {
            @apply font-bold text-sm text-center w-full;
        }
    }

    .techstack {
        @apply text-sm font-roboto p-5;

        .label {
            @apply flex items-center ms-10 mt-7;
        }

        .content {
            @apply py-5 my-5 border-y border-dashed space-y-1;

            li {
                .check {
                    @apply text-[#00A154] w-5;
                }

                h3 {
                    @apply font-semibold text-[#00A154] w-32 ms-5;
                }

                ul {
                    @apply flex items-center gap-3;
                }
            }
        }

        .footnote {
            @apply text-[#00A154] space-y-1;

            p {
                @apply flex items-center;

                svg {
                    @apply w-5 me-5;
                }
            }

            .render-time {
                @apply text-black;

                .flag-icon {
                    @apply fill-black text-black;
                }
            }
        }
    }

    #contact {
        @apply max-w-2xl absolute top-60 left-5/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        h2 {
            @apply font-bold text-sm text-center w-full;
        }

        h3 {
            @apply text-xl font-semibold;
        }

        ul {
            @apply flex items-center gap-3;

            li {
                @apply rounded-lg p-3 w-60 hover:-translate-y-0.5 hover:scale-105 origin-center transition-all duration-300;

                a {
                    @apply space-y-5;
                }

                p {
                    @apply font-semibold text-sm text-white;
                }
            }
        }
    }

    #photos {
        @apply max-w-3xl absolute top-96 left-1/2 -translate-y-1/2 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        .sidebar {
            @apply w-3/12 flex-none bg-gray-50 border-r border-gray-200 flex flex-col p-5;

            h2 {
                @apply text-xs font-medium text-gray-400 mb-1;
            }

            ul {
                li {
                    @apply flex space-y-1 items-center gap-2 px-3 py-2 rounded-md cursor-pointer transition-colors;

                    &:first-child {
                        @apply bg-blue-100 text-blue-700;
                    }

                    img {
                        @apply w-4;
                    }

                    p {
                        @apply text-sm font-medium;
                    }
                }
            }
        }

        .gallery {
            @apply p-5;

            ul {
                @apply grid grid-cols-5 grid-rows-5 gap-2.5;

                li {
                    @apply cursor-pointer transition-transform duration-200;

                    &:hover {
                        @apply scale-105;
                    }

                    img {
                        @apply size-full object-cover rounded-lg;
                    }

                    &:first-child {
                        @apply row-start-1 row-span-3 col-start-1 col-span-3;
                    }

                    &:nth-child(2) {
                        @apply row-start-1 row-span-3 col-start-4 col-span-2;
                    }

                    &:nth-child(3) {
                        @apply row-start-4 row-span-2 col-start-3 col-span-3;
                    }

                    &:last-child {
                        @apply row-start-4 row-span-2 col-start-1 col-span-2;
                    }
                }
            }
        }
    }

    #resume {
        @apply w-fit h-fit absolute top-16 left-7/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        #window-header {
            h2 {
                @apply font-bold text-sm text-center flex-1;
            }
        }
    }

    #finder {
        @apply absolute w-3xl left-40 top-20 shadow-2xl drop-shadow-2xl overflow-hidden rounded-xl;

        .sidebar {
            @apply w-48 bg-gray-50 border-r border-gray-200 flex flex-col p-5 space-y-3;

            h3 {
                @apply text-xs font-medium text-gray-400 mb-1;
            }

            ul {
                @apply space-y-1;

                .active {
                    @apply bg-blue-100 text-blue-700;
                }

                .not-active {
                    @apply text-gray-700 hover:bg-gray-200;
                }

                li {
                    @apply flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer transition-colors;
                }
            }
        }

        .content {
            @apply flex-1 p-8 bg-white max-w-2xl relative;

            li {
                @apply absolute flex items-center flex-col gap-3;

                img {
                    @apply object-contain object-center size-16 relative group-hover:scale-105;
                }

                p {
                    @apply text-sm text-center font-medium w-40;
                }
            }
        }
    }

    #txtfile {
        @apply w-md absolute top-36 right-32 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        h2 {
            @apply font-bold text-sm text-center w-full;
        }
    }

    #imgfile {
        @apply w-xl absolute top-40 left-2/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        #window-header {
            p {
                @apply font-bold text-[#5f6266];
            }
        }

        .preview {
            @apply p-2 bg-gray-200 max-h-[70vh];

            img {
                @apply w-full h-fit object-contain object-center;
            }
        }
    }

    #home {
        @apply relative z-0 max-sm:hidden;

        ul {
            li {
                @apply absolute z-0 select-none flex items-center flex-col;

                img {
                    @apply group-hover:bg-gray-950/10 p-1 rounded-md;
                }

                p {
                    @apply text-sm text-white text-center px-1 rounded-md group-hover:bg-blue-500 transition-colors max-w-40;
                }
            }
        }
    }

    /* Boot Screen */
    .boot-screen {
        @apply fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center gap-8;
    }

    .boot-logo {
        @apply opacity-0;
    }

    .boot-loading {
        @apply flex flex-col items-center gap-4;
    }

    .boot-progress-container {
        @apply w-48 h-1 bg-gray-700 rounded-full overflow-hidden;
    }

    .boot-progress-bar {
        @apply h-full bg-white rounded-full transition-all duration-100 ease-out;
    }

    .boot-percentage {
        @apply text-white/80 text-sm font-roboto tabular-nums tracking-wider;
    }

    /* Spotlight Search - Glassmorphism style matching portfolio */
    .spotlight-overlay {
        @apply fixed inset-0 z-[9998] bg-black/20 backdrop-blur-sm flex items-start justify-center pt-[15vh];
    }

    .spotlight-container {
        @apply w-full max-w-xl bg-white/70 backdrop-blur-2xl rounded-2xl shadow-2xl border border-white/30 overflow-hidden;
    }

    .spotlight-search {
        @apply flex items-center gap-3 px-5 py-4 border-b border-gray-200/50;
    }

    .spotlight-search svg {
        @apply text-gray-500;
    }

    .spotlight-input {
        @apply flex-1 bg-transparent text-gray-800 text-lg placeholder:text-gray-400 outline-none font-georama;
    }

    .spotlight-kbd {
        @apply px-2 py-0.5 bg-gray-200/80 text-gray-500 text-xs rounded font-mono;
    }

    .spotlight-results {
        @apply max-h-80 overflow-y-auto;
    }

    .spotlight-result {
        @apply flex items-center gap-3 px-4 py-3 cursor-pointer transition-all duration-200;

        &:hover, &.selected {
            @apply bg-blue-500/90;
        }
    }

    .spotlight-result-icon {
        @apply w-10 h-10 bg-white/80 rounded-xl flex items-center justify-center shadow-sm;
    }

    .spotlight-result.selected .spotlight-result-icon,
    .spotlight-result:hover .spotlight-result-icon {
        @apply bg-white shadow-md;
    }

    .spotlight-result-content {
        @apply flex flex-col;
    }

    .spotlight-result-name {
        @apply text-gray-800 font-medium text-sm;
    }

    .spotlight-result.selected .spotlight-result-name,
    .spotlight-result:hover .spotlight-result-name {
        @apply text-white;
    }

    .spotlight-result-type {
        @apply text-gray-500 text-xs;
    }

    .spotlight-result.selected .spotlight-result-type,
    .spotlight-result:hover .spotlight-result-type {
        @apply text-blue-100;
    }

    .spotlight-empty {
        @apply px-4 py-8 text-center text-gray-500;
    }

    .spotlight-hint {
        @apply flex items-center justify-center gap-6 px-4 py-3 border-t border-gray-200/50 text-xs text-gray-500 bg-gray-50/50;
    }

    /* Context Menu */
    .context-menu {
        @apply fixed z-[9999] w-52 bg-white/90 backdrop-blur-xl rounded-lg shadow-2xl border border-gray-200/50 py-1 overflow-hidden;
    }

    .context-menu-item {
        @apply flex items-center gap-3 px-3 py-1.5 text-sm text-gray-700 cursor-pointer transition-colors;

        &:hover {
            @apply bg-blue-500 text-white;

            .shortcut {
                @apply text-blue-100;
            }
        }

        &.disabled {
            @apply opacity-50 cursor-not-allowed;

            &:hover {
                @apply bg-transparent text-gray-700;
            }
        }

        &.danger {
            @apply text-red-600;

            &:hover {
                @apply bg-red-500 text-white;
            }
        }

        .shortcut {
            @apply ml-auto text-xs text-gray-400;
        }
    }

    .context-menu-item.has-submenu {
        @apply relative;

        .submenu-arrow {
            @apply ml-auto text-gray-400;
        }

        &:hover .submenu-arrow {
            @apply text-white;
        }

        .context-submenu {
            @apply absolute left-full top-0 w-40 bg-white/90 backdrop-blur-xl rounded-lg shadow-2xl border border-gray-200/50 py-1 opacity-0 invisible translate-x-1 transition-all;
        }

        &:hover .context-submenu {
            @apply opacity-100 visible translate-x-0;
        }
    }

    .context-menu-separator {
        @apply my-1 h-px bg-gray-200;
    }

    /* Music Widget */
    .music-widget-button {
        @apply fixed bottom-24 right-5 z-9991 w-12 h-12 bg-white/80 backdrop-blur-xl rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:bg-white hover:scale-105 transition-all cursor-pointer border border-white/50;
    }

    .music-playing-indicator {
        @apply absolute top-1 right-1 w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse;
    }

    .music-widget {
        @apply fixed bottom-24 right-5 z-9991 w-72 bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden;

        &.expanded {
            @apply w-80;
        }
    }

    .music-widget-header {
        @apply flex items-center justify-between px-4 py-2 border-b border-gray-100;
    }

    .music-widget-title {
        @apply text-xs font-medium text-gray-500 uppercase tracking-wider;
    }

    .music-widget-controls {
        @apply flex items-center gap-1;

        button {
            @apply p-1 rounded hover:bg-gray-100 text-gray-500 transition-colors;
        }
    }

    .music-widget-content {
        @apply flex items-center gap-4 p-4;
    }

    .music-album-art {
        @apply relative w-16 h-16 rounded-lg overflow-hidden shadow-md flex-shrink-0;

        img {
            @apply w-full h-full object-cover;
        }
    }

    .music-playing-overlay {
        @apply absolute inset-0 bg-black/20 flex items-center justify-center;

        &::after {
            content: "";
            @apply w-3 h-3 bg-white rounded-full animate-ping;
        }
    }

    .music-track-info {
        @apply flex-1 min-w-0;
    }

    .music-track-title {
        @apply font-semibold text-gray-800 truncate text-sm;
    }

    .music-track-artist {
        @apply text-xs text-gray-500 truncate;
    }

    .music-progress {
        @apply px-4 pb-2;
    }

    .music-progress-bar {
        @apply h-1 bg-gray-200 rounded-full overflow-hidden cursor-pointer;
    }

    .music-progress-fill {
        @apply h-full bg-gray-800 rounded-full transition-all duration-200;
    }

    .music-progress-time {
        @apply flex justify-between text-xs text-gray-400 mt-1;
    }

    .music-playback-controls {
        @apply flex items-center justify-center gap-6 py-3;
    }

    .music-control-btn {
        @apply p-2 rounded-full text-gray-600 hover:bg-gray-100 transition-colors;

        &.play-btn {
            @apply bg-gray-800 text-white hover:bg-gray-700 p-3;
        }
    }

    .music-volume {
        @apply flex items-center gap-3 px-4 pb-3 text-gray-500;
    }

    .music-volume-slider {
        @apply flex-1 h-1 bg-gray-200 rounded-full appearance-none cursor-pointer;

        &::-webkit-slider-thumb {
            @apply appearance-none w-3 h-3 bg-gray-600 rounded-full cursor-pointer;
        }
    }

    .music-playlist {
        @apply border-t border-gray-100 p-3;

        h4 {
            @apply text-xs font-medium text-gray-500 uppercase tracking-wider mb-2;
        }

        ul {
            @apply space-y-1 max-h-40 overflow-y-auto;
        }

        li {
            @apply flex items-center gap-3 p-2 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors;

            &.active {
                @apply bg-gray-100;
            }

            img {
                @apply w-10 h-10 rounded object-cover;
            }

            div {
                @apply flex-1 min-w-0;
            }

            .track-name {
                @apply block text-sm font-medium text-gray-800 truncate;
            }

            .track-artist {
                @apply block text-xs text-gray-500 truncate;
            }

            .track-duration {
                @apply text-xs text-gray-400;
            }
        }
    }

    /* Code Editor Window */
    #codeeditor {
        @apply w-[900px] max-h-[90vh] absolute top-10 left-20 bg-[#1e1e1e] shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        #window-header {
            @apply bg-[#252526];

            h2 {
                @apply font-bold text-sm text-center flex-1 text-white;
            }
        }
    }

    /* Control Center Dropdown */
    .control-center-overlay {
        @apply fixed inset-0 z-[9997];
    }

    .control-center {
        @apply fixed top-10 right-4 z-[9998] w-72 bg-white/80 backdrop-blur-2xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden;
    }

    .control-section {
        @apply p-3 border-b border-gray-200/50;

        &:last-child {
            @apply border-b-0;
        }
    }

    .control-section-title {
        @apply text-xs font-medium text-gray-500 mb-2 px-1;
    }

    /* Theme Options */
    .theme-options {
        @apply flex flex-col gap-1;
    }

    .theme-option {
        @apply relative flex items-center gap-3 w-full px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-gray-100 transition-colors;
    }

    .theme-option.active {
        @apply bg-blue-50 text-blue-600;
    }

    .theme-option-icon {
        @apply w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center;
    }

    .theme-option.active .theme-option-icon {
        @apply bg-blue-100;
    }

    /* Quick Controls Grid */
    .quick-controls {
        @apply grid grid-cols-2 gap-2;
    }

    .quick-control {
        @apply flex flex-col items-center justify-center gap-1.5 p-3 rounded-xl bg-gray-100 text-gray-600 hover:bg-gray-200 transition-all duration-200;

        span {
            @apply text-xs font-medium;
        }

        &:disabled {
            @apply opacity-50 cursor-not-allowed;
        }
    }

    .quick-control.active {
        @apply bg-blue-500 text-white hover:bg-blue-600;
    }

    /* Sliders */
    .control-slider {
        @apply mb-3;

        &:last-child {
            @apply mb-0;
        }
    }

    .slider-header {
        @apply flex items-center gap-2 text-xs text-gray-600 mb-2;
    }

    .slider {
        @apply w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer;

        &::-webkit-slider-thumb {
            @apply appearance-none w-4 h-4 bg-white rounded-full shadow-md border border-gray-200 cursor-pointer;
        }

        &::-moz-range-thumb {
            @apply w-4 h-4 bg-white rounded-full shadow-md border border-gray-200 cursor-pointer;
        }
    }

    /* Battery Section */
    .battery-section {
        @apply flex items-center gap-2 text-sm text-gray-600;

        .battery-percent {
            @apply ml-auto font-medium;
        }
    }

    /* Dark mode support */
    .dark-mode {
        /* Navbar */
        nav {
            @apply bg-[#2d2d2d]/90 text-white;

            time {
                @apply text-white;
            }

            ul p {
                @apply text-gray-300;
            }
        }

        /* Dock */
        #dock .dock-container {
            @apply bg-[#2d2d2d]/60;
        }

        #dock .tooltip {
            @apply !bg-[#3d3d3d] !text-gray-200;
        }

        #dock .trash-menu {
            @apply bg-[#2d2d2d]/95 border-[#4d4d4d]/50;

            button {
                @apply text-gray-300;

                &.disabled {
                    @apply hover:text-gray-300;
                }
            }
        }

        /* Window header - applies to all windows */
        #window-header {
            @apply bg-[#3d3d3d] border-[#4d4d4d] text-gray-300;

            .icon {
                @apply text-gray-400 hover:bg-[#5a5a5a] hover:text-gray-200;
            }
        }

        /* Global icon hover in dark mode */
        .icon {
            @apply hover:bg-[#4d4d4d];
        }

        /* Safari */
        #safari {
            @apply bg-[#2d2d2d];

            .search {
                @apply bg-[#3d3d3d] border-[#4d4d4d];

                input {
                    @apply text-white placeholder:text-gray-500;
                }
            }

            .blog {
                @apply bg-[#2d2d2d];

                h2 {
                    @apply text-pink-400;
                }

                .blog-post .content {
                    p {
                        @apply text-gray-400;
                    }

                    h3 {
                        @apply text-gray-100;
                    }

                    a {
                        @apply text-blue-400;
                    }
                }
            }
        }

        /* Terminal */
        #terminal {
            @apply bg-[#2d2d2d];

            h2 {
                @apply text-white;
            }
        }

        .techstack {
            @apply text-gray-300;

            .label {
                @apply text-gray-400;
            }

            .content {
                @apply border-[#4d4d4d];
            }

            .footnote .render-time {
                @apply text-white;

                .flag-icon {
                    @apply fill-white text-white;
                }
            }
        }

        /* Contact */
        #contact {
            @apply bg-[#2d2d2d];

            h2, h3 {
                @apply text-white;
            }

            > div > p {
                @apply text-gray-300;
            }
        }

        /* Photos */
        #photos {
            @apply bg-[#2d2d2d];

            .sidebar {
                @apply bg-[#353535] border-[#4d4d4d];

                h2 {
                    @apply text-gray-500;
                }

                ul li {
                    @apply text-gray-300;

                    &:first-child {
                        @apply bg-blue-600/30 text-blue-400;
                    }
                }
            }

            .gallery {
                @apply bg-[#2d2d2d];
            }
        }

        /* Resume */
        #resume {
            @apply bg-[#2d2d2d];

            #window-header h2 {
                @apply text-white;
            }
        }

        /* Finder */
        #finder {
            .sidebar {
                @apply bg-[#353535] border-[#4d4d4d];

                h3 {
                    @apply text-gray-500;
                }

                ul {
                    .active {
                        @apply bg-blue-600/30 text-blue-400;
                    }

                    .not-active {
                        @apply text-gray-300 hover:bg-[#4d4d4d];
                    }
                }
            }

            .content {
                @apply bg-[#2d2d2d];

                li p {
                    @apply text-gray-200;
                }
            }
        }

        /* Text file */
        #txtfile {
            @apply bg-[#2d2d2d];

            h2 {
                @apply text-white;
            }

            > div {
                @apply text-gray-300;
            }
        }

        /* Image file */
        #imgfile {
            @apply bg-[#2d2d2d];

            #window-header p {
                @apply text-gray-300;
            }

            .preview {
                @apply bg-[#3d3d3d];
            }
        }

        /* Welcome text */
        #welcome {
            @apply text-gray-100;
        }

        /* Spotlight in dark mode */
        .spotlight-container {
            @apply bg-[#2d2d2d]/95 border-[#4d4d4d]/50;
        }

        .spotlight-search {
            @apply border-[#4d4d4d]/50;

            svg {
                @apply text-gray-400;
            }
        }

        .spotlight-input {
            @apply text-white placeholder:text-gray-500;
        }

        .spotlight-kbd {
            @apply bg-[#3d3d3d] text-gray-400;
        }

        .spotlight-result-icon {
            @apply bg-[#3d3d3d];
        }

        .spotlight-result-name {
            @apply text-gray-100;
        }

        .spotlight-result-type {
            @apply text-gray-500;
        }

        .spotlight-hint {
            @apply border-[#4d4d4d]/50 bg-[#353535]/50 text-gray-500;
        }

        .spotlight-empty {
            @apply text-gray-500;
        }

        /* Context Menu in dark mode */
        .context-menu {
            @apply bg-[#2d2d2d]/95 border-[#4d4d4d]/50;
        }

        .context-menu-item {
            @apply text-gray-300;

            &:hover {
                @apply bg-blue-500 text-white;
            }

            &.disabled:hover {
                @apply bg-transparent text-gray-300;
            }

            .shortcut {
                @apply text-gray-500;
            }
        }

        .context-menu-item.has-submenu .context-submenu {
            @apply bg-[#2d2d2d]/95 border-[#4d4d4d]/50;
        }

        .context-menu-separator {
            @apply bg-[#4d4d4d];
        }

        /* Music Widget in dark mode */
        .music-widget-button {
            @apply bg-[#2d2d2d]/90 text-gray-300 border-[#4d4d4d]/50 hover:bg-[#3d3d3d];
        }

        .music-widget {
            @apply bg-[#2d2d2d]/95 border-[#4d4d4d]/50;
        }

        .music-widget-header {
            @apply border-[#4d4d4d];
        }

        .music-widget-controls button {
            @apply text-gray-400 hover:bg-[#3d3d3d];
        }

        .music-track-title {
            @apply text-white;
        }

        .music-track-artist {
            @apply text-gray-400;
        }

        .music-progress-bar {
            @apply bg-[#4d4d4d];
        }

        .music-progress-fill {
            @apply bg-white;
        }

        .music-control-btn {
            @apply text-gray-300 hover:bg-[#3d3d3d];

            &.play-btn {
                @apply bg-white text-gray-800 hover:bg-gray-200;
            }
        }

        .music-volume {
            @apply text-gray-400;
        }

        .music-volume-slider {
            @apply bg-[#4d4d4d];

            &::-webkit-slider-thumb {
                @apply bg-white;
            }
        }

        .music-playlist {
            @apply border-[#4d4d4d];

            li {
                @apply hover:bg-[#3d3d3d];

                &.active {
                    @apply bg-[#3d3d3d];
                }

                .track-name {
                    @apply text-white;
                }

                .track-artist {
                    @apply text-gray-400;
                }
            }
        }

        /* Control Center in dark mode */
        .control-center {
            @apply bg-[#2d2d2d]/95 border-[#4d4d4d]/50;
        }

        .control-section {
            @apply border-[#4d4d4d]/50;
        }

        .control-section-title {
            @apply text-gray-400;
        }

        .theme-option {
            @apply text-gray-300 hover:bg-[#3d3d3d];
        }

        .theme-option.active {
            @apply bg-blue-600/20 text-blue-400;
        }

        .theme-option-icon {
            @apply bg-[#3d3d3d];
        }

        .theme-option.active .theme-option-icon {
            @apply bg-blue-600/30;
        }

        .quick-control {
            @apply bg-[#3d3d3d] text-gray-300 hover:bg-[#4d4d4d];
        }

        .quick-control.active {
            @apply bg-blue-500 text-white hover:bg-blue-600;
        }

        .slider-header {
            @apply text-gray-400;
        }

        .slider {
            @apply bg-[#4d4d4d];

            &::-webkit-slider-thumb {
                @apply bg-white border-[#3d3d3d];
            }
        }

        .battery-section {
            @apply text-gray-300;
        }
    }

    /* ========================================
       DYNAMIC ISLAND - Obsidian Glow Theme
       ======================================== */

    .dynamic-island {
        position: fixed;
        top: 52px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 9990;
        cursor: pointer;
        user-select: none;

        /* Compact state dimensions - more pill-like */
        width: 150px;
        height: 37px;

        /* The "Obsidian" core */
        background: linear-gradient(
            135deg,
            rgba(10, 10, 12, 0.95) 0%,
            rgba(20, 20, 25, 0.98) 50%,
            rgba(10, 10, 12, 0.95) 100%
        );

        /* Perfect pill shape - border-radius = half of height */
        border-radius: 18.5px;

        /* Glowing edge effect */
        box-shadow:
            0 0 0 1px rgba(255, 255, 255, 0.1),
            0 0 20px rgba(100, 100, 120, 0.15),
            0 4px 16px rgba(0, 0, 0, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);

        /* Morph transition */
        transition:
            width 400ms cubic-bezier(0.34, 1.56, 0.64, 1),
            height 400ms cubic-bezier(0.34, 1.56, 0.64, 1),
            border-radius 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);

        /* Performance */
        will-change: width, height, border-radius;
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);

        /* Overflow for content transitions */
        overflow: hidden;
    }

    /* Animated glow ring (pseudo-element) */
    .dynamic-island::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        pointer-events: none;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(120, 120, 180, 0.1),
            rgba(180, 120, 255, 0.15),
            rgba(120, 120, 180, 0.1),
            transparent
        );
        background-size: 200% 100%;
        animation: island-shimmer 4s ease-in-out infinite;
        opacity: 0.7;
    }

    @keyframes island-shimmer {
        0%, 100% { background-position: -200% 0; }
        50% { background-position: 200% 0; }
    }

    /* Hover state - enhanced glow */
    .dynamic-island:hover {
        box-shadow:
            0 0 0 1px rgba(255, 255, 255, 0.15),
            0 0 30px rgba(140, 100, 255, 0.2),
            0 0 60px rgba(100, 100, 180, 0.1),
            0 6px 24px rgba(0, 0, 0, 0.5),
            inset 0 1px 0 rgba(255, 255, 255, 0.08);
    }

    .dynamic-island:hover::before {
        opacity: 1;
        animation-duration: 2s;
    }

    /* ========================================
       ISLAND STATES - Size Variations
       ======================================== */

    /* Expanded state (hover or click) */
    .dynamic-island.expanded {
        width: 340px;
        height: 180px;
        border-radius: 40px;
    }

    /* Music playing state (slightly wider but still pill-shaped) */
    .dynamic-island.music-active {
        width: 260px;
        height: 37px;
        border-radius: 18.5px;
    }

    .dynamic-island.music-active.expanded {
        width: 340px;
        height: 200px;
        border-radius: 40px;
    }

    /* Notification state (temporary expansion) */
    .dynamic-island.notification {
        width: 280px;
        height: 44px;
        border-radius: 22px;
    }

    /* ========================================
       ISLAND CONTENT
       ======================================== */

    .island-content {
        @apply w-full h-full flex items-center justify-center;
        padding: 8px 16px;
    }

    /* Time/Greeting text */
    .island-clock {
        @apply text-white/90 text-sm font-medium tracking-wide;
        font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    /* Activity indicator dots */
    .island-activity {
        @apply flex gap-1.5;
    }

    .island-dot {
        @apply w-1.5 h-1.5 rounded-full bg-white/40;
    }

    .island-dot.active {
        @apply bg-emerald-400;
        animation: island-pulse-glow 2s ease-in-out infinite;
    }

    @keyframes island-pulse-glow {
        0%, 100% {
            opacity: 0.8;
            box-shadow: 0 0 4px rgba(52, 211, 153, 0.5);
        }
        50% {
            opacity: 1;
            box-shadow: 0 0 8px rgba(52, 211, 153, 0.8);
        }
    }

    /* Separator */
    .island-separator {
        @apply w-px h-3 bg-white/20 mx-2;
    }

    /* ========================================
       COMPACT IDLE VIEW
       ======================================== */

    .island-idle {
        @apply flex items-center justify-center;
    }

    /* ========================================
       COMPACT MUSIC VIEW
       ======================================== */

    .island-music-compact {
        @apply flex items-center gap-3 w-full;
    }

    .island-album-art {
        @apply w-7 h-7 rounded-md overflow-hidden flex-shrink-0;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .island-album-art img {
        @apply w-full h-full object-cover;
    }

    .island-track-info {
        @apply flex-1 min-w-0;
    }

    .island-track-title {
        @apply text-white/90 text-xs font-medium truncate;
    }

    .island-track-artist {
        @apply text-white/50 text-[10px] truncate;
    }

    /* Audio visualizer bars */
    .island-visualizer {
        @apply flex items-end gap-0.5 h-4;
    }

    .island-bar {
        @apply w-0.5 bg-emerald-400 rounded-full;
        animation: island-equalizer 0.8s ease-in-out infinite;
    }

    .island-bar:nth-child(1) { height: 8px; }
    .island-bar:nth-child(2) { height: 12px; animation-delay: 0.2s; }
    .island-bar:nth-child(3) { height: 6px; animation-delay: 0.4s; }
    .island-bar:nth-child(4) { height: 14px; animation-delay: 0.1s; }

    @keyframes island-equalizer {
        0%, 100% { transform: scaleY(0.3); }
        50% { transform: scaleY(1); }
    }

    .island-bar.paused {
        animation: none;
        opacity: 0.5;
        transform: scaleY(0.3);
    }

    /* ========================================
       EXPANDED VIEW
       ======================================== */

    .island-expanded-content {
        @apply flex flex-col w-full h-full p-4 gap-3;
        animation: island-fadeIn 200ms ease-out forwards;
    }

    @keyframes island-fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* Expanded greeting */
    .island-greeting-large {
        @apply text-white/90 text-lg font-medium text-center;
        font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
    }

    /* Stats row */
    .island-stats {
        @apply flex items-center justify-center gap-4;
    }

    .island-stat {
        @apply flex items-center gap-2 text-white/70;
    }

    .island-stat-value {
        @apply text-white font-semibold text-lg;
    }

    .island-stat-label {
        @apply text-xs text-white/50;
    }

    .island-stat-divider {
        @apply w-px h-6 bg-white/20;
    }

    .island-time-large {
        @apply text-white/50 text-xs text-center mt-auto;
    }

    /* Expanded music view */
    .island-music-expanded {
        @apply flex gap-4;
    }

    .island-album-large {
        @apply w-20 h-20 rounded-xl overflow-hidden flex-shrink-0;
        box-shadow:
            0 4px 16px rgba(0, 0, 0, 0.4),
            0 0 0 1px rgba(255, 255, 255, 0.05);
    }

    .island-album-large img {
        @apply w-full h-full object-cover;
    }

    .island-music-details {
        @apply flex-1 flex flex-col justify-center min-w-0;
    }

    .island-music-title {
        @apply text-white font-semibold text-base truncate;
    }

    .island-music-artist {
        @apply text-white/60 text-sm truncate;
    }

    /* Progress bar in expanded view */
    .island-progress {
        @apply w-full mt-3;
    }

    .island-progress-bar {
        @apply w-full h-1 bg-white/20 rounded-full overflow-hidden;
    }

    .island-progress-fill {
        @apply h-full bg-white rounded-full;
        transition: width 200ms linear;
    }

    .island-progress-time {
        @apply flex justify-between text-[10px] text-white/50 mt-1;
    }

    /* Playback controls in expanded */
    .island-controls {
        @apply flex items-center justify-center gap-6 mt-2;
    }

    .island-control-btn {
        @apply p-2 rounded-full text-white/80 hover:text-white hover:bg-white/10 transition-all;
    }

    .island-control-btn.play {
        @apply bg-white text-black hover:bg-white/90 p-3;
    }

    /* ========================================
       NOTIFICATION VIEW
       ======================================== */

    .island-notification {
        @apply flex items-center gap-3 w-full;
    }

    .island-notif-icon {
        @apply w-6 h-6 rounded-lg bg-white/10 flex items-center justify-center;
    }

    .island-notif-icon img {
        @apply w-4 h-4;
    }

    .island-notif-text {
        @apply text-white/90 text-sm font-medium;
    }

    /* ========================================
       DARK MODE ADJUSTMENTS (Enhanced)
       ======================================== */

    .dynamic-island.dark {
        background: linear-gradient(
            135deg,
            rgba(5, 5, 8, 0.98) 0%,
            rgba(15, 15, 20, 0.99) 50%,
            rgba(5, 5, 8, 0.98) 100%
        );

        box-shadow:
            0 0 0 1px rgba(255, 255, 255, 0.05),
            0 0 25px rgba(80, 80, 100, 0.2),
            0 4px 20px rgba(0, 0, 0, 0.6),
            inset 0 1px 0 rgba(255, 255, 255, 0.03);
    }

    .dynamic-island.dark:hover {
        box-shadow:
            0 0 0 1px rgba(255, 255, 255, 0.08),
            0 0 40px rgba(100, 80, 200, 0.25),
            0 0 80px rgba(80, 80, 140, 0.15),
            0 8px 32px rgba(0, 0, 0, 0.7),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    /* ========================================
       GITHUB ACTIVITY VIEW
       ======================================== */

    /* GitHub active state (slightly wider but pill-shaped) */
    .dynamic-island.github-active {
        width: 220px;
        height: 37px;
        border-radius: 18.5px;
    }

    .dynamic-island.github-active.expanded {
        width: 340px;
        height: 180px;
        border-radius: 40px;
    }

    /* Compact GitHub view */
    .island-github-compact {
        @apply flex items-center gap-2 w-full cursor-pointer;
        transition: opacity 150ms ease;
    }

    .island-github-compact:hover {
        opacity: 0.8;
    }

    .island-github-expanded {
        @apply cursor-pointer;
    }

    .island-github-expanded:hover .island-github-header {
        @apply text-white;
    }

    .island-github-icon {
        @apply w-6 h-6 rounded-md bg-white/10 flex items-center justify-center flex-shrink-0;
    }

    .island-github-icon svg {
        @apply text-white/80;
    }

    .island-github-info {
        @apply flex-1 min-w-0;
    }

    .island-github-commit {
        @apply flex items-center gap-1 text-white/70 text-xs;
    }

    .island-github-commit svg {
        @apply text-white/50;
    }

    /* Streak counter */
    .island-streak {
        @apply flex items-center gap-1;
    }

    .island-streak-count {
        @apply text-white font-bold text-sm;
        text-shadow: 0 0 10px rgba(251, 146, 60, 0.5);
    }

    /* Animated typing indicator */
    .island-typing {
        @apply flex items-center gap-0.5 ml-1;
    }

    .island-typing-dot {
        @apply w-1 h-1 rounded-full bg-emerald-400;
        animation: island-typing-bounce 1.4s ease-in-out infinite;
    }

    .island-typing-dot:nth-child(1) {
        animation-delay: 0s;
    }

    .island-typing-dot:nth-child(2) {
        animation-delay: 0.2s;
    }

    .island-typing-dot:nth-child(3) {
        animation-delay: 0.4s;
    }

    @keyframes island-typing-bounce {
        0%, 60%, 100% {
            transform: translateY(0);
            opacity: 0.5;
        }
        30% {
            transform: translateY(-4px);
            opacity: 1;
        }
    }

    /* ========================================
       EXPANDED GITHUB VIEW
       ======================================== */

    .island-github-header {
        @apply flex items-center gap-2 text-white/90 text-sm font-medium;
    }

    .island-coding-indicator {
        @apply flex items-center gap-1 ml-auto text-emerald-400 text-xs;
    }

    .island-coding-text {
        @apply opacity-80;
    }

    .island-typing-cursor {
        @apply w-0.5 h-3 bg-emerald-400;
        animation: island-cursor-blink 1s ease-in-out infinite;
    }

    @keyframes island-cursor-blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0; }
    }

    .island-github-stats {
        @apply flex items-center justify-center gap-6 mt-3;
    }

    .island-github-stat {
        @apply flex items-center gap-2;
    }

    .island-github-stat-content {
        @apply flex flex-col;
    }

    .island-github-stat-value {
        @apply text-white font-bold text-xl leading-tight;
    }

    .island-github-stat-label {
        @apply text-white/50 text-xs;
    }

    .island-github-recent {
        @apply mt-3 pt-3 border-t border-white/10;
    }

    .island-github-recent-item {
        @apply flex items-center gap-2 text-xs;
    }

    .island-github-message {
        @apply text-white/70 truncate flex-1;
    }

    .island-github-time {
        @apply text-white/40 flex-shrink-0;
    }

    /* ========================================
       WEATHER COMPACT VIEW
       ======================================== */

    .dynamic-island.weather-active {
        width: 280px;
        height: 37px;
        border-radius: 18.5px;
    }

    .dynamic-island.weather-active.expanded {
        width: 360px;
        height: 260px;
        border-radius: 40px;
    }

    .island-weather-compact {
        @apply flex items-center justify-between gap-3 px-4 w-full;
    }

    .island-weather-icon {
        @apply flex items-center justify-center;
    }

    .island-weather-icon img {
        @apply w-8 h-8 object-contain;
        filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.3));
    }

    .island-weather-info {
        @apply flex flex-col flex-1;
    }

    .island-weather-temp {
        @apply text-white font-semibold text-sm leading-tight;
    }

    .island-weather-location {
        @apply text-white/60 text-xs;
    }

    .island-weather-condition {
        @apply text-white/70 text-xs font-medium;
    }

    /* ========================================
       WEATHER EXPANDED VIEW
       ======================================== */

    .island-weather-expanded {
        @apply flex flex-col gap-2;
        padding: 12px 16px;
    }

    .island-weather-header {
        @apply flex flex-col items-center;
    }

    .island-weather-current {
        @apply flex items-center gap-3;
    }

    .island-weather-icon-large {
        @apply w-20 h-20 object-contain;
        filter: drop-shadow(0 0 16px rgba(255, 255, 255, 0.4));
        animation: weather-float 3s ease-in-out infinite;
    }

    @keyframes weather-float {
        0%, 100% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-8px);
        }
    }

    .island-weather-main {
        @apply flex flex-col;
    }

    .island-weather-temp-large {
        @apply text-white font-bold text-4xl leading-none;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
    }

    .island-weather-condition-text {
        @apply text-white/80 text-xs mt-0.5;
    }

    .island-weather-location-text {
        @apply text-white/50 text-[10px] mt-0.5;
    }

    .island-weather-details {
        @apply flex items-center justify-around gap-2 py-1.5 px-3;
        @apply bg-white/5 rounded-lg border border-white/10;
        backdrop-filter: blur(10px);
    }

    .island-weather-detail {
        @apply flex flex-col items-center gap-0.5;
    }

    .island-weather-detail-label {
        @apply text-white/50 text-[10px];
    }

    .island-weather-detail-value {
        @apply text-white font-semibold text-xs;
    }

    .island-weather-forecast {
        @apply flex items-center justify-around gap-1.5 mt-1.5;
    }

    .island-forecast-day {
        @apply flex flex-col items-center gap-0.5 p-1.5 rounded-lg;
        @apply bg-white/5 border border-white/10;
        backdrop-filter: blur(10px);
        transition: all 200ms ease;
    }

    .island-forecast-day:hover {
        @apply bg-white/10;
        transform: translateY(-2px);
    }

    .island-forecast-date {
        @apply text-white/60 text-[10px] font-medium;
    }

    .island-forecast-icon {
        @apply w-6 h-6 object-contain;
    }

    .island-forecast-temp {
        @apply text-white font-semibold text-xs;
    }

    /* ========================================
       RESPONSIVE - Hide on Mobile
       ======================================== */

    @media (max-width: 640px) {
        .dynamic-island {
            display: none;
        }
    }
}